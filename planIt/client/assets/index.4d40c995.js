import{r as C,c as m,a as S,o as u,b as p,d as w,e as at,f as rt,g as F,h as nt,S as G,u as x,i as H,w as W,j as K,k as s,t as h,l as A,m as D,n as $,M as it,p as k,v as j,q as P,s as J,x as ct,y as M,z as q,A as V,F as U,B as lt,C as dt,D as ut}from"./vendor.66965cef.js";const pt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const n of c.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function e(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}};pt();const i=C({user:{},account:{},profile:{},sprints:[],projects:[],activeProject:{},tasks:[],notes:[],activeTask:{}});var f=(a,t)=>{for(const[o,e]of t)a[o]=e;return a};const _t={name:"App",setup(){return{appState:m(()=>i)}}};function mt(a,t,o,e,r,c){const n=S("router-view");return u(),p("main",null,[w(n)])}var gt=f(_t,[["render",mt]]);const bt="modulepreload",Q={},ht="/",E=function(t,o){return!o||o.length===0?t():Promise.all(o.map(e=>{if(e=`${ht}${e}`,e in Q)return;Q[e]=!0;const r=e.endsWith(".css"),c=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${c}`))return;const n=document.createElement("link");if(n.rel=r?"stylesheet":bt,r||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),r)return new Promise((d,y)=>{n.addEventListener("load",d),n.addEventListener("error",y)})})).then(()=>t())};function ft(a){switch(a){case"./pages/AccountPage.vue":return E(()=>import("./AccountPage.94bb1cb3.js"),["assets/AccountPage.94bb1cb3.js","assets/AccountPage.1d38451d.css","assets/vendor.66965cef.js"]);case"./pages/HomePage.vue":return E(()=>import("./HomePage.838ea775.js"),["assets/HomePage.838ea775.js","assets/HomePage.6c7f68ba.css","assets/vendor.66965cef.js"]);case"./pages/PlanItPage.vue":return E(()=>import("./PlanItPage.738c3250.js"),["assets/PlanItPage.738c3250.js","assets/PlanItPage.0a923bad.css","assets/vendor.66965cef.js"]);case"./pages/ProjectsPage.vue":return E(()=>import("./ProjectsPage.2e5cb931.js"),["assets/ProjectsPage.2e5cb931.js","assets/ProjectsPage.f9e58ea9.css","assets/vendor.66965cef.js"]);case"./pages/ProjectsPage1.vue":return E(()=>import("./ProjectsPage1.818374d7.js"),["assets/ProjectsPage1.818374d7.js","assets/vendor.66965cef.js"]);default:return new Promise(function(t,o){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+a)))})}}function R(a){return()=>ft(`./pages/${a}.vue`)}const vt=[{path:"/",name:"Home",component:R("HomePage")},{path:"/account",name:"Account",component:R("AccountPage"),beforeEnter:F},{path:"/projects/:id",name:"Project",component:R("ProjectsPage"),beforeEnter:F},,{path:"/profile/:id",name:"Profile",component:R("ProfilePage")}],Y=at({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:rt(),routes:vt}),X=window.location.origin.includes("localhost"),Z=X?"http://localhost:3000":"",yt="dev-uxhb84bx.us.auth0.com",kt="https://kylee-planit.herokuapp.com",wt="QtzFh9AGwi5b6u00271tNzMAbeYKUv2j";function N(a,t){if(X)console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...t);else{switch(a){case"log":case"assert":return}console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...t)}}const l={log(){N("log",arguments)},error(){N("error",arguments)},warn(){N("warn",arguments)},assert(){N("assert",arguments)},trace(){N("trace",arguments)}},_=nt.create({baseURL:Z,timeout:8e3});class $t{async getAll(){const t=await _.get("api/projects/");i.projects=t.data}async create(t){const o=await _.post("api/projects/",t);i.projects.unshift(o.data),Y.push({path:"/projects/"+o.data.id})}async getProjectById(t){const o=await _.get("api/projects/"+t);l.log(o.data),i.activeProject=o.data}async remove(t){const o=await _.delete("api/projects/"+t);l.log(o.data),i.projects.filter(e=>e.id!==t),i.projects=i.projects}}const O=new $t;class g{static async confirm(t="Are you sure?",o="You won't be able to revert this!",e="warning",r="Yes, delete it!"){try{return!!(await G.fire({title:t,text:o,icon:e,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:r})).isConfirmed}catch{return!1}}static toast(t="Warning!",o="warning",e="top-end",r=3e3,c=!0){G.fire({title:t,icon:o,position:e,timer:r,timerProgressBar:c,toast:!0,showConfirmButton:!1})}}i.activeProject;class jt{async getAll(t){const o=await _.get(`api/projects/${t}/sprints`);i.sprints=o.data}async create(t,o){const e=await _.post(`api/projects/${t}/sprints/`,o);i.sprints.unshift(e.data)}async getSprintById(t,o){const e=await _.get(`api/projects/${t}/sprints/${o}`);l.log(e.data),i.sprints=e.data}async remove(t,o){const e=await _.delete(`api/projects/${o}/sprints/${t}`);l.log(e.data),i.sprints.filter(r=>r.sprintId!==t),i.sprints=i.sprints}}const L=new jt;class St{async getProfile(t){const o=await _.get("api/profiles/"+t);l.log(o.data),i.profile=o.data}}const xt=new St;const Tt={setup(){const a=x(),t=H();return W(async()=>{try{a.params.id&&(await O.getProjectById(a.params.id),await L.getAll(a.params.id))}catch(o){l.error(o),g.toast("Issue with active project.vue","error")}}),K(async()=>{try{await xt.getProfile(a.params.id)}catch(o){l.error(o),g.toast(o.message)}}),{account:m(()=>i.account),project:m(()=>i.activeProject),async removeProject(o){try{o&&(await O.remove(o),t.push({path:"/"}),i.activeProject=o)}catch(e){l.log(e)}return O.getAll()}}}},Ct={class:"row justify-content-center"},Pt={class:"col-10 m-2 p-3"},It={class:"pnText",align:"center"},At={align:"center"},Et=["href"],Nt=["id"],Ot=$(" Add Sprint "),Dt={class:"row"},Mt={class:"col-12"};function qt(a,t,o,e,r,c){const n=S("CreateSprint"),d=S("Modal"),y=S("Sprints");return u(),p("div",Ct,[s("div",Pt,[s("h1",It,h(e.project.name),1),s("p",At,h(e.project.description),1),s("button",{class:"btn createSprintBtn border-primary addSprintBtn m-2","data-bs-toggle":"modal",href:"#createSprint-"+e.project.id,"data-bs-target":"#addSprint-modal"}," Add Sprint ",8,Et),s("div",{id:"#createSprint-"+e.project.id},[w(d,{id:"addSprint-modal"},{"modal-title":A(()=>[Ot]),"modal-body":A(()=>[w(n,{projectId:e.project.id},null,8,["projectId"])]),_:1})],8,Nt),e.project.creatorId==e.account.id?(u(),p("button",{key:0,class:"btn-danger m-2 rounded",onClick:t[0]||(t[0]=b=>e.removeProject(e.project.id))}," Delete Project ")):D("",!0),s("div",Dt,[s("div",Mt,[w(y)])])])])}var Vt=f(Tt,[["render",qt],["__scopeId","data-v-68b8740b"]]),Ut=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vt});const Rt={setup(){return{}}},Lt={class:"component"};function Bt(a,t,o,e,r,c){return u(),p("div",Lt)}var zt=f(Rt,[["render",Bt]]),Ht=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zt});const Wt={setup(){x(),H();const a=C({editable:{}});return W(async()=>{}),{state:a,async createProject(){try{await O.create(a.editable),it.getOrCreateInstance(document.getElementById("CreateProject")).hide()}catch(t){l.log(t),g.toast("Create is not working","error")}}}}},Kt=s("label",{for:"name",class:"form-label d-flex"},"Project Name:",-1),Yt=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary text-light","data-bs-dismiss":"modal"}," Close "),s("button",{type:"submit",class:"btn btn-success"},"Submit")],-1);function Ft(a,t,o,e,r,c){return u(),p("form",{onSubmit:t[2]||(t[2]=P((...n)=>e.createProject&&e.createProject(...n),["prevent"]))},[s("div",null,[s("div",null,[Kt,k(s("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>e.state.editable.name=n),class:"form-control mb-3 justify-content-around d-flex",type:"text",name:"name",id:"name",placeholder:"Name",min:"10",max:"100",required:""},null,512),[[j,e.state.editable.name]]),k(s("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>e.state.editable.description=n),class:"form-control mb-3 justify-content-around d-flex",type:"text",name:"description",id:"description",placeholder:"Description",min:"10",max:"100",required:""},null,512),[[j,e.state.editable.description]])])]),Yt],32)}var Gt=f(Wt,[["render",Ft]]),Jt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Gt});const Qt={props:{projectId:{type:String,required:!0}},setup(a){const t=x(),o=C({editable:{}});return{state:o,projects:m(()=>i.projects),async createSprint(e){try{t.params.id&&(o.editable.projectId=e,await L.create(t.params.id,o.editable),o.editable={})}catch(r){l.log(r),g.toast("Create is not working","error")}}}}},Xt={class:"justify-content-around"},Zt=s("label",{for:"name",class:"form-label"}," Sprint Name",-1),te=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary text-light","data-bs-dismiss":"modal"}," Close "),s("button",{type:"submit",class:"btn btn-success"},"Submit")],-1);function ee(a,t,o,e,r,c){return u(),p("form",{onSubmit:t[3]||(t[3]=P(n=>e.createSprint(o.projectId),["prevent"]))},[s("div",Xt,[s("div",null,[Zt,k(s("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>e.state.editable.name=n),type:"text",class:"form-control m-1",name:"name",id:"name",placeholder:"Name",min:"10",max:"100",required:""},null,512),[[j,e.state.editable.name]]),k(s("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>e.state.editable.startDate=n),type:"text",class:"form-control m-1",name:"startDate",id:"startDate",placeholder:"Start Date",min:"10",max:"100"},null,512),[[j,e.state.editable.startDate]]),k(s("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>e.state.editable.endDate=n),type:"text",class:"form-control m-1",name:"endDate",id:"endDate",placeholder:"End Date",min:"10",max:"100"},null,512),[[j,e.state.editable.endDate]])])]),te],32)}var oe=f(Qt,[["render",ee]]),se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oe});class ae{async getAll(t){const o=await _.get(`api/projects/${t}/tasks/`);i.tasks=o.data}async getTaskId(t,o){const e=await _.get(`api/projects/${t}/tasks/${o}`);i.tasks=e.data}async create(t,o){const e=await _.post(`api/projects/${t}/tasks`,o);i.tasks.unshift(e.data)}async remove(t,o){await _.delete(`api/projects/${o}/tasks/${t}`),i.tasks.filter(e=>e.taskId!==t),i.tasks=i.tasks}async isComplete(t,o){await _.put(`api/projects/${o}/tasks/${t.id}`,t)}}const T=new ae,re={props:{sprintId:{type:String,required:!0}},setup(a){const t=x(),o=C({editable:{}});return{state:o,sprints:m(()=>AppState.sprints),async createTask(e){try{t.params.id&&(o.editable.sprintId=e,await T.create(t.params.id,o.editable),o.editable={})}catch(r){l.log(r),g.toast("Create is not working","error")}}}}},ne={class:"justify-content-around d-flex"},ie=s("label",{for:"name",class:"form-label"}," Task Name",-1),ce=s("label",{for:"weight",class:"form-label"}," Task Weight",-1),le=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary text-light","data-bs-dismiss":"modal"}," Close "),s("button",{type:"submit",class:"btn btn-success"},"Submit")],-1);function de(a,t,o,e,r,c){return u(),p("form",{onSubmit:t[2]||(t[2]=P(n=>e.createTask(o.sprintId),["prevent"]))},[s("div",ne,[s("div",null,[ie,k(s("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>e.state.editable.name=n),type:"text",class:"form-control",name:"name",id:"name",placeholder:"Name",min:"10",max:"100",required:""},null,512),[[j,e.state.editable.name]])]),s("div",null,[ce,k(s("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>e.state.editable.weight=n),type:"number",class:"form-control",name:"weight",id:"weight",placeholder:"Weight",min:"1",max:"10",required:""},null,512),[[j,e.state.editable.weight]])])]),le],32)}var ue=f(re,[["render",de]]),pe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ue});const _e={},me={class:"modal",tabindex:"-1"},ge={class:"modal-dialog modal-xl"},be={class:"modal-content"},he={class:"modal-header"},fe={class:"modal-title"},ve=s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ye={class:"modal-body"};function ke(a,t){return u(),p("div",me,[s("div",ge,[s("div",be,[s("div",he,[s("h5",fe,[J(a.$slots,"modal-title")]),ve]),s("div",ye,[J(a.$slots,"modal-body")])])])])}var we=f(_e,[["render",ke]]),$e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:we});class je{async getAccount(){try{const t=await _.get("/account");i.account=t.data}catch(t){l.error("HAVE YOU STARTED YOUR SERVER YET???",t)}}async edit(t){try{const o=await _.put("/account",t);l.log(o.data),i.account=o.data,this.getAccount()}catch{l.error("Cannot update Profile","error")}}}const tt=new je,Se={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class xe{constructor(t=!1,o=Z){}on(t,o){var e;return(e=this.socket)==null||e.on(t,o.bind(this)),this}onConnected(t){l.log("[SOCKET_CONNECTION]",t),this.connected=!0,this.playback()}onAuthenticated(t){l.log("[SOCKET_AUTHENTICATED]",t),this.authenticated=!0,this.playback()}authenticate(t){var o;(o=this.socket)==null||o.emit(Se.authenticate,t)}onError(t){l.error("[SOCKET_ERROR]",t)}enqueue(t,o){l.log("[ENQUEING_ACTION]",{action:t,payload:o}),this.queue.push({action:t,payload:o})}playback(){l.log("[SOCKET_PLAYBACK]");const t=[...this.queue];this.queue=[],t.forEach(o=>{this.emit(o.action,o.payload)})}emit(t,o=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(t,o);if(!this.connected)return this.enqueue(t,o);this.socket.emit(t,o)}}class Te extends xe{constructor(){super();this.on("error",this.onError)}onError(t){g.toast(t.message,"error")}}const et=new Te,v=ct({domain:yt,clientId:wt,audience:kt,useRefreshTokens:!0,onRedirectCallback:a=>{Y.push(a&&a.targetUrl?a.targetUrl:window.location.pathname)}});v.on(v.AUTH_EVENTS.AUTHENTICATED,async function(){_.defaults.headers.authorization=v.bearer,_.interceptors.request.use(Ce),i.user=v.user,await tt.getAccount(),et.authenticate(v.bearer),O.getAll()});async function Ce(a){if(!v.isAuthenticated)return a;const t=v.identity.exp*1e3,o=t<Date.now(),e=t<Date.now()+1e3*60*60*12;return o?await v.loginWithPopup():e&&(await v.getTokenSilently(),_.defaults.headers.authorization=v.bearer,et.authenticate(v.bearer)),a}const Pe={setup(){return{user:m(()=>i.user),async login(){v.loginWithPopup()},async logout(){v.logout({returnTo:window.location.origin})}}}},B=a=>(M("data-v-7075edd6"),a=a(),q(),a),Ie={class:"navbar navbar-expand-lg navbar-light bg-light px-3"},Ae=B(()=>s("div",{class:"d-flex flex-column align-items-center"},[s("img",{class:"planetImg",src:"https://i.imgur.com/OjdBhJa.png"})],-1)),Ee=B(()=>s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[s("span",{class:"navbar-toggler-icon"})],-1)),Ne={class:"collapse navbar-collapse",id:"navbarText"},Oe={class:"navbar-nav me-auto"},De=B(()=>s("h2",{class:"planItText"},"Plan-It",-1)),Me={class:"navbar-text mx-4"},qe={key:1,class:"dropdown my-2 my-lg-0"},Ve={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},Ue=["src"],Re={class:"mx-3 text-success lighten-30"},Le={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},Be=B(()=>s("i",{class:"mdi mdi-logout"},null,-1)),ze=$(" Logout "),He=[Be,ze];function We(a,t,o,e,r,c){const n=S("router-link");return u(),p("nav",Ie,[w(n,{class:"navbar-brand d-flex",to:{name:"Home"}},{default:A(()=>[Ae]),_:1}),Ee,s("div",Ne,[s("ul",Oe,[s("li",null,[w(n,{to:{name:"Home"},class:"btn lighten-30"},{default:A(()=>[De]),_:1})])]),s("span",Me,[e.user.isAuthenticated?(u(),p("div",qe,[s("div",Ve,[s("img",{src:e.user.picture,alt:"user photo",height:"40",class:"profilePhoto"},null,8,Ue),s("span",Re,h(e.user.name),1)]),s("div",Le,[s("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:t[1]||(t[1]=(...d)=>e.logout&&e.logout(...d))},He)])])):(u(),p("button",{key:0,class:"btn btn-success selectable text-dark lighten-30 my-lg-0",onClick:t[0]||(t[0]=(...d)=>e.login&&e.login(...d))}," Login "))])])])}var Ke=f(Pe,[["render",We],["__scopeId","data-v-7075edd6"]]),Ye=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ke});class Fe{async getAll(t){const o=await _.get(`api/projects/${t}/notes`);i.notes=o.data}async create(t,o){const e=await _.post(`api/projects/${t}/notes`,o);i.notes.unshift(e.data)}async getNoteId(t,o){const e=await _.get(`api/projects/${t}/notes/${o}`);i.notes=e.data}async remove(t,o){await _.delete(`api/projects/${o}/notes/${t}`),i.notes.filter(e=>e.noteId!==t),i.notes=i.notes}}const z=new Fe;const Ge={props:{taskId:{type:String,required:!0}},setup(a){const o=x().params.id;return{tasks:m(()=>i.tasks),account:m(()=>i.account),notes:m(()=>i.notes.filter(e=>e.taskId===a.taskId)),async removeNote(e){try{o&&await z.remove(e,o)}catch(r){l.log(r),g.toast("Delete note is not working","error")}return z.getAll()}}}},Je=a=>(M("data-v-f2eec27a"),a=a(),q(),a),Qe={class:"col-12"},Xe=["src"],Ze=["onClick"],to=Je(()=>s("i",{class:"text-danger mdi mdi-delete"},null,-1)),eo=[to];function oo(a,t,o,e,r,c){return u(!0),p(U,null,V(e.notes,n=>(u(),p("div",{class:"note row",key:n.id},[s("div",Qe,[s("img",{class:"profilePic",src:e.account.picture},null,8,Xe),$(" "+h(e.account.name)+" ",1),s("p",null,[$(h(n.body)+" ",1),n.creatorId==e.account.id?(u(),p("button",{key:0,class:"btn",onClick:d=>e.removeNote(n.id)},eo,8,Ze)):D("",!0)])])]))),128)}var so=f(Ge,[["render",oo],["__scopeId","data-v-f2eec27a"]]),ao=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:so});const ro={props:{account:{type:Object}},setup(){const a=C({editable:{}});return x(),W(async()=>{try{a.editable.name=i.account.name,a.editable.picture=i.account.picture}catch(t){l.error(t),g.toast(t.message)}}),{state:a,account:m(()=>i.account),async edit(){try{await tt.edit(a.editable)}catch(t){l.error(t),g.toast("error")}}}}},no={class:"row"},io={class:"col-11"},co={class:"profile form component"},lo=s("label",{for:""},"Name",-1),uo=s("label",{for:""},"Profile Picture",-1),po=s("button",{type:"submit",class:"btn btn-secondary"},"Update",-1);function _o(a,t,o,e,r,c){return u(),p("div",no,[s("div",io,[s("div",co,[s("form",{onSubmit:t[2]||(t[2]=P(n=>e.edit(),["prevent"]))},[lo,k(s("input",{type:"text",placeholder:"Name Here...",name:"name",id:"name",class:"form-control mb-2",required:"","onUpdate:modelValue":t[0]||(t[0]=n=>e.state.editable.name=n)},null,512),[[j,e.state.editable.name]]),uo,k(s("input",{type:"url",placeholder:"Profile Image Url...",name:"picture",id:"picture",class:"form-control mb-2",required:"","onUpdate:modelValue":t[1]||(t[1]=n=>e.state.editable.picture=n)},null,512),[[j,e.state.editable.picture]]),po],32)])])])}var mo=f(ro,[["render",_o]]),go=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mo});const bo={setup(){const a=H();return{projects:m(()=>i.projects),async linkProject(t){try{t&&(a.push({path:"/projects/"+t}),i.activeProject=t)}catch(o){l.log(o),g.toast("error")}}}}},ho={class:"row px-3"},fo={class:"col-12"},vo=["project","onClick"],yo=s("span",{class:"m-4"},null,-1);function ko(a,t,o,e,r,c){return u(),p("div",ho,[s("div",fo,[(u(!0),p(U,null,V(e.projects,n=>(u(),p("div",{class:"card-body m-3 p-3 selectable elevation-2 rounded",key:n.id,project:n,onClick:d=>e.linkProject(n.id)},[s("h1",null,h(n.name),1),s("p",null,h(n.description),1),yo],8,vo))),128))])])}var wo=f(bo,[["render",ko]]),$o=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wo});const jo={props:{projectId:{type:String,required:!0}},setup(a){const t=x(),o=t.params.id,e=C({editable:{}});return K(async()=>{try{t.params.id&&await T.getAll(t.params.id)}catch(r){l.error(r),g.toast("Issue with active project .vue","error")}}),{state:e,sprints:m(()=>i.sprints),account:m(()=>i.account),project:m(()=>i.activeProject),taskWeight:m(()=>i.tasks.weight),tasks:m(()=>i.tasks.filter(r=>r.sprintId===a.sprintId)),sprintWeights:m(()=>{const r={};return i.tasks.forEach(c=>{r[c.sprintId]=r[c.sprintId]||0,r[c.sprintId]+=c.weight}),r}),async removeSprint(r){try{o&&(await L.remove(r,o),e.editable={})}catch(c){l.log(c),g.toast("Delete task is not working","error")}return L.getAll(o)},async getTasksClick(){try{t.params.id&&await T.getAll(t.params.id)}catch(r){l.error(r),g.toast("Issue with active project .vue","error")}},async dropTask(){await T.moveTask(a.tasks.id)}}}},ot=a=>(M("data-v-6b6905ae"),a=a(),q(),a),So=["sprint"],xo={class:"sprintsText"},To={class:"card-header bg-transparent d-flex justify-content-between align-content-middle",align:"middle"},Co=["href"],Po=ot(()=>s("img",{src:"https://i.imgur.com/P7nHMkP.png",class:"weight"},null,-1)),Io=["href"],Ao=["id"],Eo=$(" Add Task "),No=["onClick"],Oo=$(" DELETE SPRINT \xA0\xA0 "),Do=ot(()=>s("img",{class:"trashCan",src:"https://i.imgur.com/SHjFXfJ.png"},null,-1)),Mo=[Oo,Do],qo=["id"],Vo={class:"row"},Uo={class:"col-12 card-body d-flex justify-content-between collapse",align:"right","data-bs-toggle":"collapse"},Ro={class:"row"};function Lo(a,t,o,e,r,c){const n=S("CreateTask"),d=S("Modal"),y=S("Tasks");return u(),p("div",{class:"row m-0 justify-content-center",dropzone:"changeTask",onDraagover:t[0]||(t[0]=P(()=>{},["prevent"])),onDrop:t[1]||(t[1]=P(b=>e.dropTask(),["prevent"]))},[(u(!0),p(U,null,V(e.sprints,b=>(u(),p("div",{class:"col-12 card border-info elevation-3 m-2",key:b.id,sprint:b},[s("h5",xo,h(b.name),1),s("p",null,h(b.startDate),1),s("div",To,[s("button",{class:"sprintInfoText btn col-3","data-bs-toggle":"collapse",href:"#sprintdrawer-"+b.id,role:"button","aria-expanded":"false","aria-controls":"sprintDrawer"},[s("p",null,[$(h(e.sprintWeights[b.id]||0)+" total wieght ",1),Po])],8,Co),s("button",{class:"btn createTaskBtn border-primary addSprintBtn mb-4 col-3","data-bs-toggle":"modal",href:"#createTask-"+b.id,"data-bs-target":"#addTask-modal"}," Add Task ",8,Io),s("div",{id:"#createTask-"+b.id},[w(d,{id:"addTask-modal"},{"modal-title":A(()=>[Eo]),"modal-body":A(()=>[w(n,{sprintId:b.id},null,8,["sprintId"])]),_:2},1024)],8,Ao),b.creatorId==e.account.id?(u(),p("button",{key:0,class:"deleteSprint",onClick:hs=>e.removeSprint(b.id)},Mo,8,No)):D("",!0)]),s("div",{class:"collapse mb-3",id:"sprintdrawer-"+b.id},[s("div",Vo,[s("div",Uo,[s("div",Ro,[w(y,{sprintId:b.id},null,8,["sprintId"])])])])],8,qo)],8,So))),128))],32)}var Bo=f(jo,[["render",Lo],["__scopeId","data-v-6b6905ae"]]),zo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bo});const Ho={props:{sprintId:{type:String,required:!0}},setup(a){const t=C({editable:{}}),o=x(),e=o.params.id;return K(async()=>{try{o.params.id&&await z.getAll(o.params.id)}catch(r){l.error(r),g.toast("Issue with active project .vue","error")}}),{state:t,sprints:m(()=>i.sprints),account:m(()=>i.account),tasks:m(()=>i.tasks.filter(r=>r.sprintId===a.sprintId)),async removeTask(r){try{e&&await T.remove(r,e)}catch(c){l.log(c),g.toast("Delete task is not working","error")}return T.getAll(e)},async createNote(r){try{o.params.id&&(t.editable.taskId=r,await z.create(o.params.id,t.editable),t.editable={})}catch(c){l.log(c),g.toast("Create is not working","error")}},async toggleComplete(r){try{r.isComplete=!r.isComplete,await T.isComplete(r,e),g.toast("Complete","success")}catch(c){l.log(c),g.toast("Edit was not marked","error")}},async prepToChange(){try{T.prepToChange(a.task,a.sprintId)}catch(r){l.error(r)}}}}},I=a=>(M("data-v-6b2d103c"),a=a(),q(),a),Wo={class:"form-check"},Ko=["onClick","onUpdate:modelValue"],Yo=I(()=>s("label",{class:"form-check-label ms-3",for:"taskComplete"},null,-1)),Fo=["href"],Go=$(" Notes "),Jo=I(()=>s("img",{class:"commentImg",src:"https://i.imgur.com/rlHQekg.png"},null,-1)),Qo=[Go,Jo],Xo=["id"],Zo={class:"offcanvas-header"},ts={class:"offcanvas-title",id:"notesOffCanvasLabel"},es=I(()=>s("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1)),os=I(()=>s("hr",{class:"m-0"},null,-1)),ss={class:"row offcanvas-body d-flex"},as={class:"col-12"},rs=dt('<p class="projectsText" data-v-6b2d103c><b data-v-6b2d103c>Status</b></p><div class="row" data-v-6b2d103c><div class="col-12 d-flex justify-content-around" data-v-6b2d103c></div></div><div class="row" data-v-6b2d103c><div class="col-12 text-center notesText" data-v-6b2d103c>Notes</div></div><hr data-v-6b2d103c><div class="row" data-v-6b2d103c><div class="col-12 mt-2" data-v-6b2d103c><b data-v-6b2d103c>Add A Note</b></div></div>',5),ns=["onSubmit"],is=I(()=>s("div",{class:"text-end mt-2"},[s("button",{type:"submit",class:"btn btn-primary"},"Submit")],-1)),cs=I(()=>s("img",{src:"https://i.imgur.com/P7nHMkP.png",class:"weight"},null,-1)),ls=["onClick"],ds=$(" Delete Task \xA0\xA0 "),us=I(()=>s("img",{class:"trashCan",src:"https://i.imgur.com/SHjFXfJ.png"},null,-1)),ps=[ds,us];function _s(a,t,o,e,r,c){const n=S("Notes");return u(),p("div",{class:"row",align:"left",draggable:"true",onDragstart:t[1]||(t[1]=(...d)=>e.prepToChange&&e.prepToChange(...d))},[(u(!0),p(U,null,V(e.tasks,d=>(u(),p("div",{class:"col-12 d-flex",key:d.id},[s("div",Wo,[k(s("input",{type:"checkbox",class:"form-check-input",name:"taskComplete",id:"taskComplete",value:"checkedValue",onClick:y=>e.toggleComplete(d),"onUpdate:modelValue":y=>d.isComplete=y},null,8,Ko),[[lt,d.isComplete]]),Yo,s("h6",null,[s("b",null,h(d.name),1)]),s("button",{class:"btn","data-bs-toggle":"offcanvas",href:"#notesOffCanvas-"+d.id,rolw:"button","aria-controls":"notesOffCanvas"},Qo,8,Fo),s("div",{class:"offcanvas offcanvas-end",tabindex:"-1",id:"notesOffCanvas-"+d.id,"aria-labelledby":"notesOffCanvasLabel"},[s("div",Zo,[s("h5",ts," SPRINT NAME > "+h(d.name),1),es]),os,s("div",ss,[s("div",as,[rs,s("form",{onSubmit:P(y=>e.createNote(d.id),["prevent"])},[k(s("textarea",{"onUpdate:modelValue":t[0]||(t[0]=y=>e.state.editable.body=y),type:"text",class:"form-control",name:"note",id:"body",placeholder:"Note",min:"10",max:"250",required:""},null,512),[[j,e.state.editable.body]]),is],40,ns),s("div",null,[w(n,{taskId:d.id},null,8,["taskId"])])])])],8,Xo),$(" "+h(d.weight)+" ",1),cs]),d.creatorId==e.account.id?(u(),p("button",{key:0,class:"btn deleteTask",align:"right",onClick:y=>e.removeTask(d.id)},ps,8,ls)):D("",!0)]))),128))],32)}var ms=f(Ho,[["render",_s],["__scopeId","data-v-6b2d103c"]]),gs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ms});function bs(a){Object.entries({"./components/ActiveProject.vue":Ut,"./components/CreateNote.vue":Ht,"./components/CreateProject.vue":Jt,"./components/CreateSprint.vue":se,"./components/CreateTask.vue":pe,"./components/Modal.vue":$e,"./components/Navbar.vue":Ye,"./components/Notes.vue":ao,"./components/Profile.vue":go,"./components/Projects.vue":$o,"./components/Sprints.vue":zo,"./components/Tasks.vue":gs}).forEach(([o,e])=>{const r=e.name||o.substr(o.lastIndexOf("/")+1).replace(/\.\w+$/,"");a.component(r,e.default)})}const st=ut(gt);bs(st);st.use(Y).mount("#app");export{i as A,g as P,f as _,wo as a,l,O as p};
